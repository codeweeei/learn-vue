{"version":3,"file":"vue.js","sources":["../src/utils.js","../src/observe/array.js","../src/observe/index.js","../src/state.js","../src/compiler/generate.js","../src/compiler/parser.js","../src/compiler/index.js","../src/vnode/patch.js","../src/lifecycle.js","../src/init.js","../src/vnode/index.js","../src/render.js","../src/index.js"],"sourcesContent":["// 工具库\r\n\r\nexport function isFunction(val) {\r\n\treturn typeof val === 'function';\r\n}\r\n\r\nexport function isObject(val) {\r\n\treturn Object.prototype.toString.call(val) === '[object Object]';\r\n}\r\n","const oldArrayPrototype = Array.prototype;\r\nexport const arrayMethods = Object.create(oldArrayPrototype);\r\n\r\nlet methods = ['push', 'shift', 'unshift', 'pop', 'reverse', 'sort', 'splice'];\r\n\r\nmethods.forEach((method) => {\r\n\t// 重写上述数组方法\r\n\tarrayMethods[method] = function (...args) {\r\n\t\toldArrayPrototype[method].call(this, ...args);\r\n\t\tlet inserted;\r\n\t\t// 注意数组新增引用类型数据时，需要对新增的数据进行劫持（push、unshift和splice）\r\n\t\tswitch (method) {\r\n\t\t\tcase 'push':\r\n\t\t\tcase 'unshift':\r\n\t\t\t\tinserted = args;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'splice':\r\n\t\t\t\tinserted = args.slice(2);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tif (inserted) this.__ob__.observeArray(inserted);\r\n\t};\r\n});\r\n","// 观测data，进行数据劫持\r\nimport { isObject } from '../utils';\r\nimport { arrayMethods } from './array';\r\n\r\n// 观测者类：检测数据的变化（类存在类型）\r\nexport class Observe {\r\n\tconstructor(data) {\r\n\t\t// 将观测实例作为属性保存至观测的对象，注意该属性不能被枚举，否则会陷入this.walk(data)中的死循环\r\n\t\tObject.defineProperty(data, '__ob__', {\r\n\t\t\tvalue: this,\r\n\t\t\tenumerable: false,\r\n\t\t});\r\n\t\t// 对 data 中的所有属性进行劫持（注意数组的递归监控）\r\n\t\tif (Array.isArray(data)) {\r\n\t\t\tdata._proto_ = arrayMethods;\r\n\t\t\t// 对数组中的引用类型进行劫持\r\n\t\t\tthis.observeArray(data);\r\n\t\t} else {\r\n\t\t\tthis.walk(data);\r\n\t\t}\r\n\t}\r\n\tobserveArray(data) {\r\n\t\tdata.forEach((item) => observe(item));\r\n\t}\r\n\twalk(data) {\r\n\t\tObject.keys(data).forEach((key) => {\r\n\t\t\tdefineReactive(data, key, data[key]);\r\n\t\t});\r\n\t}\r\n}\r\nfunction defineReactive(data, key, val) {\r\n\t// val可能也是对象，因此需要递归处理嵌套val里的对象，劫持深层val里的对象\r\n\tobserve(val);\r\n\tObject.defineProperty(data, key, {\r\n\t\tget() {\r\n\t\t\treturn val;\r\n\t\t},\r\n\t\tset(newVal) {\r\n\t\t\t// data中某个属性赋值给一个新对象时也得劫持 vm._data.a = {b:1}\r\n\t\t\tobserve(newVal);\r\n\t\t\tval = newVal;\r\n\t\t},\r\n\t});\r\n}\r\n\r\nexport function observe(data) {\r\n\t// 判断是否是对象\r\n\tif (!isObject(data)) return;\r\n\tif (data.__ob__) return;\r\n\treturn new Observe(data);\r\n}\r\n","import { isFunction } from './utils';\r\nimport { observe } from './observe/index';\r\n\r\n// 处理 new Vue({...})中传入的props、data、computed、watch等\r\nexport function initState(vm) {\r\n\tconst opts = vm.$options;\r\n\tif (opts.data) {\r\n\t\tinitData(vm);\r\n\t}\r\n}\r\n\r\n// 将data代理至vm实例上\r\nfunction proxyDataToVm(vm, source, key) {\r\n\tObject.defineProperty(vm, key, {\r\n\t\tget() {\r\n\t\t\treturn vm[source][key];\r\n\t\t},\r\n\t\tset(val) {\r\n\t\t\tvm[source][key] = val;\r\n\t\t},\r\n\t});\r\n}\r\n\r\n// 处理 data\r\nfunction initData(vm) {\r\n\t// data可传入函数（返回对象）或者对象，最终取到对象（注意函数内部的this指向）\r\n\tlet data = vm.$options.data;\r\n\t// 关联 data（响应式数据getter和setter） 和 vm._data\r\n\tvm._data = data = isFunction(data) ? data.call(vm) : data;\r\n\t// 代理data至vm\r\n\tfor (let key in data) {\r\n\t\tproxyDataToVm(vm, '_data', key);\r\n\t}\r\n\t// 观测data（将其转换为响应式数据）\r\n\tobserve(data);\r\n}\r\n","const defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g; // 匹配{{}}语法 {{aaaaa}}\r\n\r\n/**\r\n * 将ast树中标签的属性数组拼接成字符串，注意属性值需要使用JSON.stringify进行修饰\r\n * 注意 style属性 style=\"color:red;background:blue\" 需要转成 style: {'color': 'red','background': 'blue'}\r\n * @param {*} attrs [{name: 'id',value: 'app'},{name: 'a',value: '1'}]\r\n * @return str 拼接的字符串 {id: 'app', a='1'}\r\n */\r\nfunction genProps(attrs) {\r\n\tlet str = '';\r\n\tfor (let i = 0; i < attrs.length; i++) {\r\n\t\tlet attr = attrs[i];\r\n\t\tif (attr.name === 'style') {\r\n\t\t\tlet styleObj = {};\r\n\t\t\t// 将color:red;background:blue -> {'color': 'red','background': 'blue'}\r\n\t\t\tattr.value.replace(/([^:;]+)\\:([^:;]+)/g, function () {\r\n\t\t\t\tstyleObj[arguments[1]] = arguments[2];\r\n\t\t\t});\r\n\t\t\tattr.value = styleObj;\r\n\t\t}\r\n\t\tstr += `${attr.name}:${JSON.stringify(attr.value)},`;\r\n\t}\r\n\t// str.slice(0, -1): 截取str第一个字符至倒数第一个字符，即去除最后的,\r\n\treturn `{${str.slice(0, -1)}}`;\r\n}\r\n\r\nfunction gen(el) {\r\n\tif (el.type === 1) {\r\n\t\t// 标签元素\r\n\t\treturn generate(el);\r\n\t} else {\r\n\t\t// 文本类型元素：注意hello{{xxx}}world语法里的xxx是变量，不应该保存为字符串\r\n\t\t// hello{{xxx}}world -> 'hello' + xxx + 'world'\r\n\t\tlet text = el.text;\r\n\t\tif (defaultTagRE.test(text)) {\r\n\t\t\tlet tokens = [];\r\n\t\t\tlet match;\r\n\t\t\t// 注意每次循环正则的exec方法前需要将正则的lastIndex重置为0\r\n\t\t\tlet lastIndex = (defaultTagRE.lastIndex = 0);\r\n\t\t\twhile ((match = defaultTagRE.exec(text))) {\r\n\t\t\t\t// hello{{xxx}}world\r\n\t\t\t\tlet index = match.index; // 获取匹配到{{}}的索引\r\n\t\t\t\tif (index > lastIndex) {\r\n\t\t\t\t\ttokens.push(JSON.stringify(text.slice(lastIndex, index))); // 取出'hello'\r\n\t\t\t\t}\r\n\t\t\t\t// 注意xxx中可能是对象，对象->字符串：[object object]；所以内部需要再处理一下xxx，这里我们约定使用_s()函数来处理\r\n\t\t\t\ttokens.push(`_s(${match[1].trim()})`);\r\n\t\t\t\tlastIndex = index + match[0].length; // match[0] -> {{xxx}}\r\n\t\t\t\tif (lastIndex < text.length) {\r\n\t\t\t\t\ttokens.push(JSON.stringify(text.slice(lastIndex))); // 取出'world'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn `_v(${tokens.join('+')})`;\r\n\t\t} else {\r\n\t\t\treturn `_v(${text})`;\r\n\t\t}\r\n\t}\r\n}\r\n/**\r\n * 获取子元素（type类型为1的）\r\n * @param {*} el\r\n */\r\nfunction genChildren(el) {\r\n\tlet children = el.children;\r\n\tif (children) {\r\n\t\treturn children.map((c) => gen(c)).join(',');\r\n\t}\r\n\treturn false;\r\n}\r\n\r\n/**\r\n * ! 导出函数\r\n * 遍历ast树，将树先拼接成字符串，然后通过 new Funtion(字符串)来生成 render函数\r\n * _c(...)表示创建标签节点，_v(...)创建文本节点，_s(...)表示处理{{xxx}}里的xxx\r\n * <div id=\"app\" style=\"color:red;background:blue\">hello{{aaa}}world</div> 需要返回转成如下\r\n * _c('div',{id:\"app\",style:{\"color\":\"red\",\"background\":\"blue\"}},_v(\"hello\"+_s(aaa)+\"world\"))\r\n * @param {*} el\r\n * @return 字符串\r\n */\r\n\r\nexport function generate(el) {\r\n\tlet children = genChildren(el);\r\n\tlet code = `_c('${el.tagName}',${\r\n\t\tel.attrs.length ? genProps(el.attrs) : 'undefined'\r\n\t}${children ? `,${children}` : ''})`;\r\n\treturn code;\r\n}\r\n","// 模板编译\r\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`; // 标签名\r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; //  用来获取的标签名的 match后的索引为1的\r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 匹配开始标签的：<div\r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配闭合标签的\r\n// 用来匹配属性的，可匹配 a=\"xxx\" | a='xxx' | a=xxx\r\nconst attribute =\r\n\t/^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/;\r\nconst startTagClose = /^\\s*(\\/?)>/; //  匹配标签闭合  > 或 />\r\n\r\n// 将解析后的结果，组装成一个树结构（利用栈结构的入栈和出栈最终生成一个树节点root对象）\r\nfunction createAstElement(tagName, attrs) {\r\n\treturn {\r\n\t\ttagName,\r\n\t\ttype: 1,\r\n\t\tchildren: [],\r\n\t\tparent: null,\r\n\t\tattrs,\r\n\t};\r\n}\r\n\r\nlet root = null; // 根节点\r\nlet stack = []; // 树结构\r\n// 解析开始标签：获取开始标签名和属性键值对\r\nfunction start(tagName, attributes) {\r\n\t// 循环引用\r\n\tlet parent = stack[stack.length - 1];\r\n\tlet element = createAstElement(tagName, attributes);\r\n\telement.parent = parent;\r\n\tif (parent) {\r\n\t\tparent.children.push(element);\r\n\t}\r\n\tif (!root) {\r\n\t\troot = element;\r\n\t}\r\n\tstack.push(element);\r\n}\r\n// 解析结束标签：获取结束标签名\r\nfunction end(tagName) {\r\n\t// 弹出栈中最后一个\r\n\tlet element = stack.pop();\r\n\tif (tagName !== element.tagName) {\r\n\t\tthrow new Error('标签有误，没有闭合');\r\n\t}\r\n}\r\n// 解析文本标签：获取标签中的文本\r\nfunction chars(text) {\r\n\t// 去除文本中的空格\r\n\ttext = text.replace(/\\s/g, '');\r\n\tlet parent = stack[stack.length - 1];\r\n\tif (text) {\r\n\t\tparent.children.push({\r\n\t\t\ttype: 3,\r\n\t\t\ttext,\r\n\t\t});\r\n\t}\r\n}\r\n\r\n// 解析模板字符串，生成AST树 <div id=\"app\">{{name}}</div>\r\nexport function parserHTML(html) {\r\n\t// 截取字符串（删除匹配完的部分）\r\n\tfunction advance(len) {\r\n\t\thtml = html.substring(len);\r\n\t}\r\n\t// 解析开始标签：获取开始标签名和属性键值对数组\r\n\tfunction parseStartTag() {\r\n\t\tconst start = html.match(startTagOpen);\r\n\t\tif (start) {\r\n\t\t\tconst match = {\r\n\t\t\t\ttagName: start[1],\r\n\t\t\t\tattrs: [],\r\n\t\t\t};\r\n\t\t\tadvance(start[0].length); // 截去<div html -> id=\"app\">{{name}}</div>\r\n\t\t\t// 匹配属性：没有遇到>或/>时并且可以匹配到属性时将匹配到的属性名和值保存在attrs\r\n\t\t\tlet end; // 匹配闭合标签符号\r\n\t\t\tlet attr; // 匹配属性\r\n\t\t\twhile (\r\n\t\t\t\t!(end = html.match(startTagClose)) &&\r\n\t\t\t\t(attr = html.match(attribute))\r\n\t\t\t) {\r\n\t\t\t\tmatch.attrs.push({\r\n\t\t\t\t\tname: attr[1],\r\n\t\t\t\t\tvalue: attr[3] || attr[4] || attr[5],\r\n\t\t\t\t});\r\n\t\t\t\t// 截去匹配的属性等式: id=\"app\" -> >{{name}}</div>\r\n\t\t\t\tadvance(attr[0].length);\r\n\t\t\t}\r\n\t\t\t// 截去匹配到的开始标签结束的>符号 -> {{name}}</div>\r\n\t\t\tif (end) advance(end[0].length);\r\n\t\t\treturn match;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t// 解析结束标签：获取结束标签名\r\n\tfunction parseEndTag() {\r\n\t\tconst end = html.match(endTag);\r\n\t\tif (end) {\r\n\t\t\tadvance(end[0].length);\r\n\t\t\treturn end[1];\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t// 每解析一部分就删除解析完的那部分\r\n\twhile (html) {\r\n\t\tlet textEnd = html.indexOf('<');\r\n\t\tif (textEnd === 0) {\r\n\t\t\t// 解析开始标签：获取标签名和属性键值对数组\r\n\t\t\tconst startTagMatch = parseStartTag();\r\n\t\t\tif (startTagMatch) {\r\n\t\t\t\tstart(startTagMatch.tagName, startTagMatch.attrs);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t// 解析结束标签：获取结束标签名\r\n\t\t\tconst endTagMatch = parseEndTag();\r\n\t\t\tif (endTagMatch) {\r\n\t\t\t\tend(endTagMatch);\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet text;\r\n\t\tif (textEnd > 0) {\r\n\t\t\t// {{name}}</div>\r\n\t\t\ttext = html.substring(0, textEnd); // {{name}}\r\n\t\t}\r\n\t\tif (text) {\r\n\t\t\tchars(text);\r\n\t\t\tadvance(text.length); // </div>\r\n\t\t}\r\n\t}\r\n\treturn root;\r\n}\r\n","import { generate } from './generate';\r\nimport { parserHTML } from './parser';\r\n\r\n// html词法解析（开始标签、结束标签、属性和文本） -> ast语法树（用来描述html语法）-> code字符串 -> render函数 -> vdom -> 生成真实dom\r\nexport function compilerToFunction(template) {\r\n\t// 获取根ast语法树\r\n\tlet root = parserHTML(template);\r\n\t// generate 生成code 用来生成render函数\r\n\tlet code = generate(root);\r\n\tlet render = new Function(`with(this){return ${code}}`); // code中可能使用到数据，数据在vm上\r\n\treturn render;\r\n}\r\n","export function patch(oldVnode, vnode) {\r\n\tif (oldVnode.nodeType === 1) {\r\n\t\t// 真实元素\r\n\t\tconst parentElm = oldVnode.parentNode;\r\n\t\tlet elm = creatElm(vnode); // 根据虚拟节点，创建真实节点\r\n\t\tparentElm.insertBefore(elm, oldVnode.nextSibling); // 将真实节点插入至父元素下\r\n\r\n\t\t// 删除旧的真实元素\r\n\t\tparentElm.removeChild(oldVnode);\r\n\t}\r\n}\r\n\r\nfunction creatElm(vnode) {\r\n\tlet { tag, data, children, text, vm } = vnode;\r\n\tif (typeof vnode.tag === 'string') {\r\n\t\t// 创建元素标签\r\n\t\tvnode.el = document.createElement(tag); // 虚拟节点的el属性指向真实节点\r\n\t\tchildren.forEach((child) => {\r\n\t\t\t// 将children遍历生成真实节点并添加至虚拟节点生成的真实节点\r\n\t\t\tvnode.el.appendChild(creatElm(child));\r\n\t\t});\r\n\t} else {\r\n\t\t// 创建文本标签\r\n\t\tvnode.el = document.createTextNode(text);\r\n\t}\r\n}\r\n","import { patch } from './vnode/patch';\r\n\r\nexport function lifecycleMixin(Vue) {\r\n\tVue.prototype._update = function (vnode) {\r\n\t\t// 初始化及更新\r\n\t\tconst vm = this;\r\n\t\tpatch(vm.$el, vnode);\r\n\t};\r\n}\r\n\r\n// 挂载vm组件至el上\r\nexport function mountComponent(vm, el) {\r\n\t// 调用render方法，生成虚拟DOM再渲染成真实DOM替换掉页面的内容\r\n\tlet undateComponent = () => {\r\n\t\t// 后续更新可以调用updateComponent方法\r\n\t\tvm._update(vm._render());\r\n\t};\r\n\tundateComponent();\r\n}\r\n","import { initState } from './state';\r\nimport { compilerToFunction } from './compiler/index';\r\nimport { mountComponent } from './lifecycle';\r\n\r\n// 初始化vue\r\nexport function initMixin(Vue) {\r\n\t// 初始化state\r\n\tVue.prototype._init = function (options) {\r\n\t\tconst vm = this;\r\n\t\t// 将options放置vm的$options上\r\n\t\tvm.$options = options;\r\n\t\t// 对数据进行初始化\r\n\t\tinitState(vm);\r\n\r\n\t\t// 处理el，将数据挂载在el指向的模板上\r\n\t\tif (vm.$options.el) {\r\n\t\t\tvm.$mount(vm.$options.el);\r\n\t\t}\r\n\t};\r\n\tVue.prototype.$mount = function (el) {\r\n\t\t// 获取模板\r\n\t\tconst vm = this;\r\n\t\tconst options = vm.$options;\r\n\t\tel = document.querySelector(el);\r\n\t\tvm.$el = el;\r\n\t\t// 将模板转换为渲染函数（render），用于创建虚拟节点，增加渲染模板的性能\r\n\t\tif (!options.render) {\r\n\t\t\t// 用户没有传入render函数时使用template模板\r\n\t\t\tlet template = options.template;\r\n\t\t\tif (!template && el) {\r\n\t\t\t\t// 用户没有传入template模板时将el作为template\r\n\t\t\t\ttemplate = el.outerHTML; // outerHTML 不带空格\r\n\t\t\t\t// 将模板转为render渲染函数\r\n\t\t\t\tlet render = compilerToFunction(template);\r\n\t\t\t\toptions.render = render;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// 将vm组件挂载在el上\r\n\t\tmountComponent(vm, el);\r\n\t};\r\n}\r\n","export function createElement(vm, tag, data = {}, ...children) {\r\n\treturn vnode(vm, tag, data, data.key, children, undefined);\r\n}\r\n\r\nexport function createTextElement(vm, text) {\r\n\treturn vnode(vm, undefined, undefined, undefined, undefined, text);\r\n}\r\n\r\n/**\r\n * ! 生成虚拟DOM节点对象\r\n * { tag,data,key,children,text }\r\n * @param {*} vm\r\n */\r\nexport function vnode(vm, tag, data, key, children, text) {\r\n\treturn {\r\n\t\tvm,\r\n\t\ttag,\r\n\t\tdata,\r\n\t\tkey,\r\n\t\tchildren,\r\n\t\ttext,\r\n\t};\r\n}\r\n","import { createElement, createTextElement } from './vnode/index';\r\n\r\nexport function renderMixin(Vue) {\r\n\tVue.prototype._c = function () {\r\n\t\t// 生成vnode\r\n\t\treturn createElement(this, ...arguments);\r\n\t};\r\n\tVue.prototype._v = function (text) {\r\n\t\t// 生成vnode\r\n\t\treturn createTextElement(this, text);\r\n\t};\r\n\tVue.prototype._s = function (val) {\r\n\t\tif (typeof val === 'object') return JSON.stringify(val);\r\n\t\treturn val;\r\n\t};\r\n\tVue.prototype._render = function () {\r\n\t\tconst vm = this;\r\n\t\t// 取出render函数（根据模板解析出来或者用户自己写的）\r\n\t\tlet render = vm.$options.render;\r\n\t\tlet vnode = render.call(vm);\r\n\t\treturn vnode;\r\n\t};\r\n}\r\n","import { initMixin } from './init';\r\nimport { lifecycleMixin } from './lifecycle';\r\nimport { renderMixin } from './render';\r\n\r\nfunction Vue(options) {\r\n\tthis._init(options);\r\n}\r\ninitMixin(Vue); // _init\r\nrenderMixin(Vue); // _render\r\nlifecycleMixin(Vue); // _update\r\n\r\nexport default Vue;\r\n"],"names":["isFunction","val","isObject","Object","prototype","toString","call","oldArrayPrototype","Array","arrayMethods","create","methods","forEach","method","args","inserted","slice","__ob__","observeArray","Observe","data","defineProperty","value","enumerable","isArray","_proto_","walk","item","observe","keys","key","defineReactive","get","set","newVal","initState","vm","opts","$options","initData","proxyDataToVm","source","_data","defaultTagRE","genProps","attrs","str","i","length","attr","name","styleObj","replace","arguments","JSON","stringify","gen","el","type","generate","text","test","tokens","match","lastIndex","exec","index","push","trim","join","genChildren","children","map","c","code","tagName","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","createAstElement","parent","root","stack","start","attributes","element","end","pop","Error","chars","parserHTML","html","advance","len","substring","parseStartTag","parseEndTag","textEnd","indexOf","startTagMatch","endTagMatch","compilerToFunction","template","render","Function","patch","oldVnode","vnode","nodeType","parentElm","parentNode","elm","creatElm","insertBefore","nextSibling","removeChild","tag","document","createElement","child","appendChild","createTextNode","lifecycleMixin","Vue","_update","$el","mountComponent","undateComponent","_render","initMixin","_init","options","$mount","querySelector","outerHTML","undefined","createTextElement","renderMixin","_c","_v","_s"],"mappings":";;;;;;CAAA;CAEO,SAASA,UAAT,CAAoBC,GAApB,EAAyB;GAC/B,OAAO,OAAOA,GAAP,KAAe,UAAtB,CAAA;CACA,CAAA;CAEM,SAASC,QAAT,CAAkBD,GAAlB,EAAuB;GAC7B,OAAOE,MAAM,CAACC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BL,GAA/B,CAAA,KAAwC,iBAA/C,CAAA;CACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CCRD,IAAMM,iBAAiB,GAAGC,KAAK,CAACJ,SAAhC,CAAA;CACO,IAAMK,YAAY,GAAGN,MAAM,CAACO,MAAP,CAAcH,iBAAd,CAArB,CAAA;CAEP,IAAII,OAAO,GAAG,CAAC,MAAD,EAAS,OAAT,EAAkB,SAAlB,EAA6B,KAA7B,EAAoC,SAApC,EAA+C,MAA/C,EAAuD,QAAvD,CAAd,CAAA;CAEAA,OAAO,CAACC,OAAR,CAAgB,UAACC,MAAD,EAAY;CAC3B;CACAJ,EAAAA,YAAY,CAACI,MAAD,CAAZ,GAAuB,YAAmB;CAAA,IAAA,IAAA,qBAAA,CAAA;;CAAA,IAAA,KAAA,IAAA,IAAA,GAAA,SAAA,CAAA,MAAA,EAANC,IAAM,GAAA,IAAA,KAAA,CAAA,IAAA,CAAA,EAAA,IAAA,GAAA,CAAA,EAAA,IAAA,GAAA,IAAA,EAAA,IAAA,EAAA,EAAA;OAANA,IAAM,CAAA,IAAA,CAAA,GAAA,SAAA,CAAA,IAAA,CAAA,CAAA;CAAA,KAAA;;KACzC,CAAAP,qBAAAA,GAAAA,iBAAiB,CAACM,MAAD,CAAjB,EAA0BP,IAA1B,CAAA,KAAA,CAAA,qBAAA,EAAA,CAA+B,IAA/B,CAAA,CAAA,MAAA,CAAwCQ,IAAxC,CAAA,CAAA,CAAA;;KACA,IAAIC,QAAJ,CAFyC;;CAIzC,IAAA,QAAQF,MAAR;CACC,MAAA,KAAK,MAAL,CAAA;CACA,MAAA,KAAK,SAAL;CACCE,QAAAA,QAAQ,GAAGD,IAAX,CAAA;CACA,QAAA,MAAA;;CACD,MAAA,KAAK,QAAL;CACCC,QAAAA,QAAQ,GAAGD,IAAI,CAACE,KAAL,CAAW,CAAX,CAAX,CAAA;CACA,QAAA,MAAA;CAPF,KAAA;;CAWA,IAAA,IAAID,QAAJ,EAAc,IAAA,CAAKE,MAAL,CAAYC,YAAZ,CAAyBH,QAAzB,CAAA,CAAA;IAff,CAAA;CAiBA,CAnBD,CAAA;;CCAA,IAAaI,OAAb,gBAAA,YAAA;CACC,EAAA,SAAA,OAAA,CAAYC,IAAZ,EAAkB;CAAA,IAAA,eAAA,CAAA,IAAA,EAAA,OAAA,CAAA,CAAA;;CACjB;CACAjB,IAAAA,MAAM,CAACkB,cAAP,CAAsBD,IAAtB,EAA4B,QAA5B,EAAsC;CACrCE,MAAAA,KAAK,EAAE,IAD8B;CAErCC,MAAAA,UAAU,EAAE,KAAA;CAFyB,KAAtC,EAFiB;;CAOjB,IAAA,IAAIf,KAAK,CAACgB,OAAN,CAAcJ,IAAd,CAAJ,EAAyB;CACxBA,MAAAA,IAAI,CAACK,OAAL,GAAehB,YAAf,CADwB;;OAGxB,IAAKS,CAAAA,YAAL,CAAkBE,IAAlB,CAAA,CAAA;CACA,KAJD,MAIO;OACN,IAAKM,CAAAA,IAAL,CAAUN,IAAV,CAAA,CAAA;CACA,KAAA;CACD,GAAA;;CAfF,EAAA,YAAA,CAAA,OAAA,EAAA,CAAA;CAAA,IAAA,GAAA,EAAA,cAAA;KAAA,KAgBC,EAAA,SAAA,YAAA,CAAaA,IAAb,EAAmB;CAClBA,MAAAA,IAAI,CAACR,OAAL,CAAa,UAACe,IAAD,EAAA;SAAA,OAAUC,OAAO,CAACD,IAAD,CAAjB,CAAA;QAAb,CAAA,CAAA;CACA,KAAA;CAlBF,GAAA,EAAA;CAAA,IAAA,GAAA,EAAA,MAAA;KAAA,KAmBC,EAAA,SAAA,IAAA,CAAKP,IAAL,EAAW;OACVjB,MAAM,CAAC0B,IAAP,CAAYT,IAAZ,EAAkBR,OAAlB,CAA0B,UAACkB,GAAD,EAAS;SAClCC,cAAc,CAACX,IAAD,EAAOU,GAAP,EAAYV,IAAI,CAACU,GAAD,CAAhB,CAAd,CAAA;QADD,CAAA,CAAA;CAGA,KAAA;CAvBF,GAAA,CAAA,CAAA,CAAA;;CAAA,EAAA,OAAA,OAAA,CAAA;CAAA,CAAA,EAAA,CAAA;;CAyBA,SAASC,cAAT,CAAwBX,IAAxB,EAA8BU,GAA9B,EAAmC7B,GAAnC,EAAwC;CACvC;GACA2B,OAAO,CAAC3B,GAAD,CAAP,CAAA;CACAE,EAAAA,MAAM,CAACkB,cAAP,CAAsBD,IAAtB,EAA4BU,GAA5B,EAAiC;CAChCE,IAAAA,GADgC,EAC1B,SAAA,GAAA,GAAA;CACL,MAAA,OAAO/B,GAAP,CAAA;MAF+B;KAIhCgC,GAJgC,EAAA,SAAA,GAAA,CAI5BC,MAJ4B,EAIpB;CACX;OACAN,OAAO,CAACM,MAAD,CAAP,CAAA;CACAjC,MAAAA,GAAG,GAAGiC,MAAN,CAAA;CACA,KAAA;IARF,CAAA,CAAA;CAUA,CAAA;;CAEM,SAASN,OAAT,CAAiBR,IAAjB,EAAuB;CAC7B;CACA,EAAA,IAAI,CAAClB,QAAQ,CAACkB,IAAD,CAAb,EAAqB,OAAA;GACrB,IAAIA,IAAI,CAACH,MAAT,EAAiB,OAAA;CACjB,EAAA,OAAO,IAAIE,OAAJ,CAAYC,IAAZ,CAAP,CAAA;CACA;;CC9CM,SAASe,SAAT,CAAmBC,EAAnB,EAAuB;CAC7B,EAAA,IAAMC,IAAI,GAAGD,EAAE,CAACE,QAAhB,CAAA;;GACA,IAAID,IAAI,CAACjB,IAAT,EAAe;KACdmB,QAAQ,CAACH,EAAD,CAAR,CAAA;CACA,GAAA;CACD;;CAGD,SAASI,aAAT,CAAuBJ,EAAvB,EAA2BK,MAA3B,EAAmCX,GAAnC,EAAwC;CACvC3B,EAAAA,MAAM,CAACkB,cAAP,CAAsBe,EAAtB,EAA0BN,GAA1B,EAA+B;CAC9BE,IAAAA,GAD8B,EACxB,SAAA,GAAA,GAAA;CACL,MAAA,OAAOI,EAAE,CAACK,MAAD,CAAF,CAAWX,GAAX,CAAP,CAAA;MAF6B;KAI9BG,GAJ8B,EAAA,SAAA,GAAA,CAI1BhC,GAJ0B,EAIrB;CACRmC,MAAAA,EAAE,CAACK,MAAD,CAAF,CAAWX,GAAX,IAAkB7B,GAAlB,CAAA;CACA,KAAA;IANF,CAAA,CAAA;CAQA;;;CAGD,SAASsC,QAAT,CAAkBH,EAAlB,EAAsB;CACrB;GACA,IAAIhB,IAAI,GAAGgB,EAAE,CAACE,QAAH,CAAYlB,IAAvB,CAFqB;;CAIrBgB,EAAAA,EAAE,CAACM,KAAH,GAAWtB,IAAI,GAAGpB,UAAU,CAACoB,IAAD,CAAV,GAAmBA,IAAI,CAACd,IAAL,CAAU8B,EAAV,CAAnB,GAAmChB,IAArD,CAJqB;;CAMrB,EAAA,KAAK,IAAIU,GAAT,IAAgBV,IAAhB,EAAsB;CACrBoB,IAAAA,aAAa,CAACJ,EAAD,EAAK,OAAL,EAAcN,GAAd,CAAb,CAAA;CACA,GARoB;;;GAUrBF,OAAO,CAACR,IAAD,CAAP,CAAA;CACA;;CCnCD,IAAMuB,YAAY,GAAG,0BAArB;;CAEA;CACA;CACA;CACA;CACA;CACA;;CACA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;GACxB,IAAIC,GAAG,GAAG,EAAV,CAAA;;CACA,EAAA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,KAAK,CAACG,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;CACtC,IAAA,IAAIE,IAAI,GAAGJ,KAAK,CAACE,CAAD,CAAhB,CAAA;;CACA,IAAA,IAAIE,IAAI,CAACC,IAAL,KAAc,OAAlB,EAA2B;CAAA,MAAA,CAAA,YAAA;CAC1B,QAAA,IAAIC,QAAQ,GAAG,EAAf,CAD0B;;CAG1BF,QAAAA,IAAI,CAAC3B,KAAL,CAAW8B,OAAX,CAAmB,qBAAnB,EAA0C,YAAY;WACrDD,QAAQ,CAACE,SAAS,CAAC,CAAD,CAAV,CAAR,GAAyBA,SAAS,CAAC,CAAD,CAAlC,CAAA;UADD,CAAA,CAAA;SAGAJ,IAAI,CAAC3B,KAAL,GAAa6B,QAAb,CAAA;CAN0B,OAAA,GAAA,CAAA;CAO1B,KAAA;;CACDL,IAAAA,GAAG,IAAOG,EAAAA,CAAAA,MAAAA,CAAAA,IAAI,CAACC,IAAZ,EAAoBI,GAAAA,CAAAA,CAAAA,MAAAA,CAAAA,IAAI,CAACC,SAAL,CAAeN,IAAI,CAAC3B,KAApB,CAApB,EAAH,GAAA,CAAA,CAAA;CACA,GAbuB;;;GAexB,OAAWwB,GAAAA,CAAAA,MAAAA,CAAAA,GAAG,CAAC9B,KAAJ,CAAU,CAAV,EAAa,CAAC,CAAd,CAAX,EAAA,GAAA,CAAA,CAAA;CACA,CAAA;;CAED,SAASwC,GAAT,CAAaC,EAAb,EAAiB;CAChB,EAAA,IAAIA,EAAE,CAACC,IAAH,KAAY,CAAhB,EAAmB;CAClB;KACA,OAAOC,QAAQ,CAACF,EAAD,CAAf,CAAA;CACA,GAHD,MAGO;CACN;CACA;CACA,IAAA,IAAIG,IAAI,GAAGH,EAAE,CAACG,IAAd,CAAA;;CACA,IAAA,IAAIjB,YAAY,CAACkB,IAAb,CAAkBD,IAAlB,CAAJ,EAA6B;OAC5B,IAAIE,MAAM,GAAG,EAAb,CAAA;OACA,IAAIC,KAAJ,CAF4B;;CAI5B,MAAA,IAAIC,SAAS,GAAIrB,YAAY,CAACqB,SAAb,GAAyB,CAA1C,CAAA;;OACA,OAAQD,KAAK,GAAGpB,YAAY,CAACsB,IAAb,CAAkBL,IAAlB,CAAhB,EAA0C;CACzC;CACA,QAAA,IAAIM,KAAK,GAAGH,KAAK,CAACG,KAAlB,CAFyC;;SAGzC,IAAIA,KAAK,GAAGF,SAAZ,EAAuB;CACtBF,UAAAA,MAAM,CAACK,IAAP,CAAYb,IAAI,CAACC,SAAL,CAAeK,IAAI,CAAC5C,KAAL,CAAWgD,SAAX,EAAsBE,KAAtB,CAAf,CAAZ,EADsB;CAEtB,SALwC;;;SAOzCJ,MAAM,CAACK,IAAP,CAAkBJ,KAAAA,CAAAA,MAAAA,CAAAA,KAAK,CAAC,CAAD,CAAL,CAASK,IAAT,EAAlB,EAAA,GAAA,CAAA,CAAA,CAAA;SACAJ,SAAS,GAAGE,KAAK,GAAGH,KAAK,CAAC,CAAD,CAAL,CAASf,MAA7B,CARyC;;CASzC,QAAA,IAAIgB,SAAS,GAAGJ,IAAI,CAACZ,MAArB,EAA6B;CAC5Bc,UAAAA,MAAM,CAACK,IAAP,CAAYb,IAAI,CAACC,SAAL,CAAeK,IAAI,CAAC5C,KAAL,CAAWgD,SAAX,CAAf,CAAZ,EAD4B;CAE5B,SAAA;CACD,OAAA;;CACD,MAAA,OAAA,KAAA,CAAA,MAAA,CAAaF,MAAM,CAACO,IAAP,CAAY,GAAZ,CAAb,EAAA,GAAA,CAAA,CAAA;CACA,KAnBD,MAmBO;CACN,MAAA,OAAA,KAAA,CAAA,MAAA,CAAaT,IAAb,EAAA,GAAA,CAAA,CAAA;CACA,KAAA;CACD,GAAA;CACD,CAAA;CACD;CACA;CACA;CACA;;;CACA,SAASU,WAAT,CAAqBb,EAArB,EAAyB;CACxB,EAAA,IAAIc,QAAQ,GAAGd,EAAE,CAACc,QAAlB,CAAA;;CACA,EAAA,IAAIA,QAAJ,EAAc;CACb,IAAA,OAAOA,QAAQ,CAACC,GAAT,CAAa,UAACC,CAAD,EAAA;OAAA,OAAOjB,GAAG,CAACiB,CAAD,CAAV,CAAA;CAAA,KAAb,CAA4BJ,CAAAA,IAA5B,CAAiC,GAAjC,CAAP,CAAA;CACA,GAAA;;CACD,EAAA,OAAO,KAAP,CAAA;CACA,CAAA;CAED;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAEO,SAASV,QAAT,CAAkBF,EAAlB,EAAsB;CAC5B,EAAA,IAAIc,QAAQ,GAAGD,WAAW,CAACb,EAAD,CAA1B,CAAA;GACA,IAAIiB,IAAI,GAAUjB,MAAAA,CAAAA,MAAAA,CAAAA,EAAE,CAACkB,OAAb,EACPlB,IAAAA,CAAAA,CAAAA,MAAAA,CAAAA,EAAE,CAACZ,KAAH,CAASG,MAAT,GAAkBJ,QAAQ,CAACa,EAAE,CAACZ,KAAJ,CAA1B,GAAuC,WADhC,CAEL0B,CAAAA,MAAAA,CAAAA,QAAQ,GAAOA,GAAAA,CAAAA,MAAAA,CAAAA,QAAP,CAAoB,GAAA,EAFvB,EAAR,GAAA,CAAA,CAAA;CAGA,EAAA,OAAOG,IAAP,CAAA;CACA;;CCtFD;CACA,IAAME,MAAM,GAAZ,8BAAA;;CACA,IAAMC,YAAY,GAAUD,MAAAA,CAAAA,MAAAA,CAAAA,MAAV,kBAAwBA,MAAxB,EAAA,GAAA,CAAlB;;CACA,IAAME,YAAY,GAAG,IAAIC,MAAJ,aAAgBF,YAAhB,CAAA,CAArB;;CACA,IAAMG,MAAM,GAAG,IAAID,MAAJ,gBAAmBF,YAAnB,EAAA,QAAA,CAAA,CAAf;CACA;;CACA,IAAMI,SAAS,GACd,2EADD,CAAA;CAEA,IAAMC,aAAa,GAAG,YAAtB;CAEA;;CACA,SAASC,gBAAT,CAA0BR,OAA1B,EAAmC9B,KAAnC,EAA0C;GACzC,OAAO;CACN8B,IAAAA,OAAO,EAAPA,OADM;CAENjB,IAAAA,IAAI,EAAE,CAFA;CAGNa,IAAAA,QAAQ,EAAE,EAHJ;CAINa,IAAAA,MAAM,EAAE,IAJF;CAKNvC,IAAAA,KAAK,EAALA,KAAAA;IALD,CAAA;CAOA,CAAA;;CAED,IAAIwC,IAAI,GAAG,IAAX;;CACA,IAAIC,KAAK,GAAG,EAAZ;CACA;;CACA,SAASC,KAAT,CAAeZ,OAAf,EAAwBa,UAAxB,EAAoC;CACnC;GACA,IAAIJ,MAAM,GAAGE,KAAK,CAACA,KAAK,CAACtC,MAAN,GAAe,CAAhB,CAAlB,CAAA;CACA,EAAA,IAAIyC,OAAO,GAAGN,gBAAgB,CAACR,OAAD,EAAUa,UAAV,CAA9B,CAAA;GACAC,OAAO,CAACL,MAAR,GAAiBA,MAAjB,CAAA;;CACA,EAAA,IAAIA,MAAJ,EAAY;CACXA,IAAAA,MAAM,CAACb,QAAP,CAAgBJ,IAAhB,CAAqBsB,OAArB,CAAA,CAAA;CACA,GAAA;;GACD,IAAI,CAACJ,IAAL,EAAW;CACVA,IAAAA,IAAI,GAAGI,OAAP,CAAA;CACA,GAAA;;GACDH,KAAK,CAACnB,IAAN,CAAWsB,OAAX,CAAA,CAAA;CACA;;;CAED,SAASC,GAAT,CAAaf,OAAb,EAAsB;CACrB;CACA,EAAA,IAAIc,OAAO,GAAGH,KAAK,CAACK,GAAN,EAAd,CAAA;;CACA,EAAA,IAAIhB,OAAO,KAAKc,OAAO,CAACd,OAAxB,EAAiC;CAChC,IAAA,MAAM,IAAIiB,KAAJ,CAAU,WAAV,CAAN,CAAA;CACA,GAAA;CACD;;;CAED,SAASC,KAAT,CAAejC,IAAf,EAAqB;CACpB;GACAA,IAAI,GAAGA,IAAI,CAACR,OAAL,CAAa,KAAb,EAAoB,EAApB,CAAP,CAAA;GACA,IAAIgC,MAAM,GAAGE,KAAK,CAACA,KAAK,CAACtC,MAAN,GAAe,CAAhB,CAAlB,CAAA;;CACA,EAAA,IAAIY,IAAJ,EAAU;CACTwB,IAAAA,MAAM,CAACb,QAAP,CAAgBJ,IAAhB,CAAqB;CACpBT,MAAAA,IAAI,EAAE,CADc;CAEpBE,MAAAA,IAAI,EAAJA,IAAAA;MAFD,CAAA,CAAA;CAIA,GAAA;CACD;;;CAGM,SAASkC,UAAT,CAAoBC,IAApB,EAA0B;CAChC;GACA,SAASC,OAAT,CAAiBC,GAAjB,EAAsB;CACrBF,IAAAA,IAAI,GAAGA,IAAI,CAACG,SAAL,CAAeD,GAAf,CAAP,CAAA;CACA,GAJ+B;;;CAMhC,EAAA,SAASE,aAAT,GAAyB;CACxB,IAAA,IAAMZ,KAAK,GAAGQ,IAAI,CAAChC,KAAL,CAAWe,YAAX,CAAd,CAAA;;CACA,IAAA,IAAIS,KAAJ,EAAW;CACV,MAAA,IAAMxB,KAAK,GAAG;CACbY,QAAAA,OAAO,EAAEY,KAAK,CAAC,CAAD,CADD;CAEb1C,QAAAA,KAAK,EAAE,EAAA;QAFR,CAAA;OAIAmD,OAAO,CAACT,KAAK,CAAC,CAAD,CAAL,CAASvC,MAAV,CAAP,CALU;CAMV;;OACA,IAAI0C,IAAJ,CAPU;;;OAQV,IAAIzC,IAAJ,CARU;;CASV,MAAA,OACC,EAAEyC,IAAG,GAAGK,IAAI,CAAChC,KAAL,CAAWmB,aAAX,CAAR,MACCjC,IAAI,GAAG8C,IAAI,CAAChC,KAAL,CAAWkB,SAAX,CADR,CADD,EAGE;CACDlB,QAAAA,KAAK,CAAClB,KAAN,CAAYsB,IAAZ,CAAiB;CAChBjB,UAAAA,IAAI,EAAED,IAAI,CAAC,CAAD,CADM;CAEhB3B,UAAAA,KAAK,EAAE2B,IAAI,CAAC,CAAD,CAAJ,IAAWA,IAAI,CAAC,CAAD,CAAf,IAAsBA,IAAI,CAAC,CAAD,CAAA;CAFjB,SAAjB,EADC;;CAMD+C,QAAAA,OAAO,CAAC/C,IAAI,CAAC,CAAD,CAAJ,CAAQD,MAAT,CAAP,CAAA;CACA,OAnBS;;;OAqBV,IAAI0C,IAAJ,EAASM,OAAO,CAACN,IAAG,CAAC,CAAD,CAAH,CAAO1C,MAAR,CAAP,CAAA;CACT,MAAA,OAAOe,KAAP,CAAA;CACA,KAAA;;CACD,IAAA,OAAO,KAAP,CAAA;CACA,GAjC+B;;;CAmChC,EAAA,SAASqC,WAAT,GAAuB;CACtB,IAAA,IAAMV,GAAG,GAAGK,IAAI,CAAChC,KAAL,CAAWiB,MAAX,CAAZ,CAAA;;CACA,IAAA,IAAIU,GAAJ,EAAS;CACRM,MAAAA,OAAO,CAACN,GAAG,CAAC,CAAD,CAAH,CAAO1C,MAAR,CAAP,CAAA;OACA,OAAO0C,GAAG,CAAC,CAAD,CAAV,CAAA;CACA,KAAA;;CACD,IAAA,OAAO,KAAP,CAAA;CACA,GA1C+B;;;CA4ChC,EAAA,OAAOK,IAAP,EAAa;CACZ,IAAA,IAAIM,OAAO,GAAGN,IAAI,CAACO,OAAL,CAAa,GAAb,CAAd,CAAA;;KACA,IAAID,OAAO,KAAK,CAAhB,EAAmB;CAClB;OACA,IAAME,aAAa,GAAGJ,aAAa,EAAnC,CAAA;;CACA,MAAA,IAAII,aAAJ,EAAmB;SAClBhB,KAAK,CAACgB,aAAa,CAAC5B,OAAf,EAAwB4B,aAAa,CAAC1D,KAAtC,CAAL,CAAA;CACA,QAAA,SAAA;CACA,OANiB;;;OAQlB,IAAM2D,WAAW,GAAGJ,WAAW,EAA/B,CAAA;;CACA,MAAA,IAAII,WAAJ,EAAiB;SAChBd,GAAG,CAACc,WAAD,CAAH,CAAA;CACA,OAAA;CACD,KAAA;;CACD,IAAA,IAAI5C,IAAI,GAAR,KAAA,CAAA,CAAA;;KACA,IAAIyC,OAAO,GAAG,CAAd,EAAiB;CAChB;OACAzC,IAAI,GAAGmC,IAAI,CAACG,SAAL,CAAe,CAAf,EAAkBG,OAAlB,CAAP,CAFgB;CAGhB,KAAA;;CACD,IAAA,IAAIzC,IAAJ,EAAU;OACTiC,KAAK,CAACjC,IAAD,CAAL,CAAA;CACAoC,MAAAA,OAAO,CAACpC,IAAI,CAACZ,MAAN,CAAP,CAFS;CAGT,KAAA;CACD,GAAA;;CACD,EAAA,OAAOqC,IAAP,CAAA;CACA;;CC7HM,SAASoB,kBAAT,CAA4BC,QAA5B,EAAsC;CAC5C;CACA,EAAA,IAAIrB,IAAI,GAAGS,UAAU,CAACY,QAAD,CAArB,CAF4C;;CAI5C,EAAA,IAAIhC,IAAI,GAAGf,QAAQ,CAAC0B,IAAD,CAAnB,CAAA;GACA,IAAIsB,MAAM,GAAG,IAAIC,QAAJ,6BAAkClC,IAAlC,EAAA,GAAA,CAAA,CAAb,CAL4C;;CAM5C,EAAA,OAAOiC,MAAP,CAAA;CACA;;CCXM,SAASE,KAAT,CAAeC,QAAf,EAAyBC,KAAzB,EAAgC;CACtC,EAAA,IAAID,QAAQ,CAACE,QAAT,KAAsB,CAA1B,EAA6B;CAC5B;CACA,IAAA,IAAMC,SAAS,GAAGH,QAAQ,CAACI,UAA3B,CAAA;CACA,IAAA,IAAIC,GAAG,GAAGC,QAAQ,CAACL,KAAD,CAAlB,CAH4B;;KAI5BE,SAAS,CAACI,YAAV,CAAuBF,GAAvB,EAA4BL,QAAQ,CAACQ,WAArC,CAAA,CAJ4B;CAM5B;;KACAL,SAAS,CAACM,WAAV,CAAsBT,QAAtB,CAAA,CAAA;CACA,GAAA;CACD,CAAA;;CAED,SAASM,QAAT,CAAkBL,KAAlB,EAAyB;CACxB,EAAA,IAAMS,GAAN,GAAwCT,KAAxC,CAAMS,GAAN,CAAA;CAAA,MAAwCT,KAAxC,CAAW3F,IAAX,CAAA;CAAA,UAAiBmD,QAAjB,GAAwCwC,KAAxC,CAAiBxC,QAAjB,CAAA;CAAA,MAA2BX,IAA3B,GAAwCmD,KAAxC,CAA2BnD,IAA3B,CAAA;CAAA,MAAwCmD,KAAxC,CAAiC3E,GAAjC;;CACA,EAAA,IAAI,OAAO2E,KAAK,CAACS,GAAb,KAAqB,QAAzB,EAAmC;CAClC;KACAT,KAAK,CAACtD,EAAN,GAAWgE,QAAQ,CAACC,aAAT,CAAuBF,GAAvB,CAAX,CAFkC;;CAGlCjD,IAAAA,QAAQ,CAAC3D,OAAT,CAAiB,UAAC+G,KAAD,EAAW;CAC3B;OACAZ,KAAK,CAACtD,EAAN,CAASmE,WAAT,CAAqBR,QAAQ,CAACO,KAAD,CAA7B,CAAA,CAAA;MAFD,CAAA,CAAA;CAIA,GAPD,MAOO;CACN;KACAZ,KAAK,CAACtD,EAAN,GAAWgE,QAAQ,CAACI,cAAT,CAAwBjE,IAAxB,CAAX,CAAA;CACA,GAAA;CACD;;CCvBM,SAASkE,cAAT,CAAwBC,GAAxB,EAA6B;CACnCA,EAAAA,GAAG,CAAC3H,SAAJ,CAAc4H,OAAd,GAAwB,UAAUjB,KAAV,EAAiB;CACxC;KACA,IAAM3E,EAAE,GAAG,IAAX,CAAA;CACAyE,IAAAA,KAAK,CAACzE,EAAE,CAAC6F,GAAJ,EAASlB,KAAT,CAAL,CAAA;IAHD,CAAA;CAKA;;CAGM,SAASmB,cAAT,CAAwB9F,EAAxB,EAA4BqB,EAA5B,EAAgC;CACtC;CACA,EAAA,IAAI0E,eAAe,GAAG,SAAlBA,eAAkB,GAAM;CAC3B;CACA/F,IAAAA,EAAE,CAAC4F,OAAH,CAAW5F,EAAE,CAACgG,OAAH,EAAX,CAAA,CAAA;IAFD,CAAA;;GAIAD,eAAe,EAAA,CAAA;CACf;;CCbM,SAASE,SAAT,CAAmBN,GAAnB,EAAwB;CAC9B;CACAA,EAAAA,GAAG,CAAC3H,SAAJ,CAAckI,KAAd,GAAsB,UAAUC,OAAV,EAAmB;CACxC,IAAA,IAAMnG,EAAE,GAAG,IAAX,CADwC;;CAGxCA,IAAAA,EAAE,CAACE,QAAH,GAAciG,OAAd,CAHwC;;CAKxCpG,IAAAA,SAAS,CAACC,EAAD,CAAT,CALwC;;CAQxC,IAAA,IAAIA,EAAE,CAACE,QAAH,CAAYmB,EAAhB,EAAoB;CACnBrB,MAAAA,EAAE,CAACoG,MAAH,CAAUpG,EAAE,CAACE,QAAH,CAAYmB,EAAtB,CAAA,CAAA;CACA,KAAA;IAVF,CAAA;;CAYAsE,EAAAA,GAAG,CAAC3H,SAAJ,CAAcoI,MAAd,GAAuB,UAAU/E,EAAV,EAAc;CACpC;KACA,IAAMrB,EAAE,GAAG,IAAX,CAAA;CACA,IAAA,IAAMmG,OAAO,GAAGnG,EAAE,CAACE,QAAnB,CAAA;CACAmB,IAAAA,EAAE,GAAGgE,QAAQ,CAACgB,aAAT,CAAuBhF,EAAvB,CAAL,CAAA;CACArB,IAAAA,EAAE,CAAC6F,GAAH,GAASxE,EAAT,CALoC;;CAOpC,IAAA,IAAI,CAAC8E,OAAO,CAAC5B,MAAb,EAAqB;CACpB;CACA,MAAA,IAAID,QAAQ,GAAG6B,OAAO,CAAC7B,QAAvB,CAAA;;CACA,MAAA,IAAI,CAACA,QAAD,IAAajD,EAAjB,EAAqB;CACpB;CACAiD,QAAAA,QAAQ,GAAGjD,EAAE,CAACiF,SAAd,CAFoB;CAGpB;;CACA,QAAA,IAAI/B,MAAM,GAAGF,kBAAkB,CAACC,QAAD,CAA/B,CAAA;SACA6B,OAAO,CAAC5B,MAAR,GAAiBA,MAAjB,CAAA;CACA,OAAA;CACD,KAjBmC;;;CAmBpCuB,IAAAA,cAAc,CAAC9F,EAAD,CAAd,CAAA;IAnBD,CAAA;CAqBA;;CCxCM,SAASsF,aAAT,CAAuBtF,EAAvB,EAA2BoF,GAA3B,EAAwD;GAAA,IAAxBpG,IAAwB,uEAAjB,EAAiB,CAAA;;CAAA,EAAA,KAAA,IAAA,IAAA,GAAA,SAAA,CAAA,MAAA,EAAVmD,QAAU,GAAA,IAAA,KAAA,CAAA,IAAA,GAAA,CAAA,GAAA,IAAA,GAAA,CAAA,GAAA,CAAA,CAAA,EAAA,IAAA,GAAA,CAAA,EAAA,IAAA,GAAA,IAAA,EAAA,IAAA,EAAA,EAAA;KAAVA,QAAU,CAAA,IAAA,GAAA,CAAA,CAAA,GAAA,SAAA,CAAA,IAAA,CAAA,CAAA;CAAA,GAAA;;CAC9D,EAAA,OAAOwC,KAAK,CAAC3E,EAAD,EAAKoF,GAAL,EAAUpG,IAAV,EAAgBA,IAAI,CAACU,GAArB,EAA0ByC,QAA1B,EAAoCoE,SAApC,CAAZ,CAAA;CACA,CAAA;CAEM,SAASC,iBAAT,CAA2BxG,EAA3B,EAA+BwB,IAA/B,EAAqC;CAC3C,EAAA,OAAOmD,KAAK,CAAC3E,EAAD,EAAKuG,SAAL,EAAgBA,SAAhB,EAA2BA,SAA3B,EAAsCA,SAAtC,EAAiD/E,IAAjD,CAAZ,CAAA;CACA,CAAA;CAED;CACA;CACA;CACA;CACA;;CACO,SAASmD,KAAT,CAAe3E,EAAf,EAAmBoF,GAAnB,EAAwBpG,IAAxB,EAA8BU,GAA9B,EAAmCyC,QAAnC,EAA6CX,IAA7C,EAAmD;GACzD,OAAO;CACNxB,IAAAA,EAAE,EAAFA,EADM;CAENoF,IAAAA,GAAG,EAAHA,GAFM;CAGNpG,IAAAA,IAAI,EAAJA,IAHM;CAINU,IAAAA,GAAG,EAAHA,GAJM;CAKNyC,IAAAA,QAAQ,EAARA,QALM;CAMNX,IAAAA,IAAI,EAAJA,IAAAA;IAND,CAAA;CAQA;;CCpBM,SAASiF,WAAT,CAAqBd,GAArB,EAA0B;CAChCA,EAAAA,GAAG,CAAC3H,SAAJ,CAAc0I,EAAd,GAAmB,YAAY;CAC9B;CACA,IAAA,OAAOpB,aAAa,CAAb,KAAA,CAAA,KAAA,CAAA,EAAA,CAAc,IAAd,CAAA,CAAA,MAAA,CAAA,KAAA,CAAA,SAAA,CAAA,KAAA,CAAA,IAAA,CAAuBrE,SAAvB,CAAP,CAAA,CAAA,CAAA;IAFD,CAAA;;CAIA0E,EAAAA,GAAG,CAAC3H,SAAJ,CAAc2I,EAAd,GAAmB,UAAUnF,IAAV,EAAgB;CAClC;CACA,IAAA,OAAOgF,iBAAiB,CAAC,IAAD,EAAOhF,IAAP,CAAxB,CAAA;IAFD,CAAA;;CAIAmE,EAAAA,GAAG,CAAC3H,SAAJ,CAAc4I,EAAd,GAAmB,UAAU/I,GAAV,EAAe;KACjC,IAAI,OAAA,CAAOA,GAAP,CAAA,KAAe,QAAnB,EAA6B,OAAOqD,IAAI,CAACC,SAAL,CAAetD,GAAf,CAAP,CAAA;CAC7B,IAAA,OAAOA,GAAP,CAAA;IAFD,CAAA;;CAIA8H,EAAAA,GAAG,CAAC3H,SAAJ,CAAcgI,OAAd,GAAwB,YAAY;CACnC,IAAA,IAAMhG,EAAE,GAAG,IAAX,CADmC;;CAGnC,IAAA,IAAIuE,MAAM,GAAGvE,EAAE,CAACE,QAAH,CAAYqE,MAAzB,CAAA;CACA,IAAA,IAAII,KAAK,GAAGJ,MAAM,CAACrG,IAAP,CAAY8B,EAAZ,CAAZ,CAAA;CACA,IAAA,OAAO2E,KAAP,CAAA;IALD,CAAA;CAOA;;CClBD,SAASgB,GAAT,CAAaQ,OAAb,EAAsB;GACrB,IAAKD,CAAAA,KAAL,CAAWC,OAAX,CAAA,CAAA;CACA,CAAA;;CACDF,SAAS,CAACN,GAAD,CAAT;;CACAc,WAAW,CAACd,GAAD,CAAX;;CACAD,cAAc,CAACC,GAAD,CAAd;;;;;;;;"}